{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Metadata Generator","text":"<p>AI-powered metadata extraction for images and audio files.</p> <p>The Metadata Generator automates the creation of structured metadata \u2014 descriptions, keywords, captions, and summaries \u2014 from image and audio files using Azure Content Understanding.</p>"},{"location":"#features","title":"Features","text":"<ul> <li>Image Analysis \u2014 Upload images (JPEG, PNG, TIFF, WebP) and receive a description, keywords, and caption in German.</li> <li>Audio Analysis \u2014 Upload audio files (MP3, WAV, M4A, OGG) and receive a description, keywords, and one-sentence summary in German.</li> <li>Batch Upload \u2014 Process up to 20 files at once through the web UI.</li> <li>Export \u2014 Copy individual fields or export all metadata as CSV/JSON.</li> <li>Webhook Integration \u2014 Trigger extraction from external systems via a documented REST webhook.</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Installation \u2014 Set up the development environment</li> <li>Quick Start \u2014 Get running in 5 minutes</li> <li>Architecture Overview \u2014 High-level system design</li> <li>REST API \u2014 API endpoint reference</li> <li>Development Guide \u2014 Day-to-day dev workflow</li> </ul>"},{"location":"api/rest-api/","title":"REST API","text":"<p>The Metadata Generator exposes a REST API at <code>http://localhost:8000</code> during development.</p>"},{"location":"api/rest-api/#base-url","title":"Base URL","text":"<p>All API endpoints are prefixed with <code>/api/v1</code>.</p>"},{"location":"api/rest-api/#health-endpoints","title":"Health Endpoints","text":""},{"location":"api/rest-api/#get-health","title":"<code>GET /health</code>","text":"<p>Liveness check.</p> <p>Response <code>200 OK</code>:</p> <pre><code>{\n  \"status\": \"healthy\",\n  \"service\": \"metadata-generator-api\"\n}\n</code></pre>"},{"location":"api/rest-api/#get-healthready","title":"<code>GET /health/ready</code>","text":"<p>Readiness check.</p> <p>Response <code>200 OK</code>:</p> <pre><code>{\n  \"status\": \"ready\",\n  \"service\": \"metadata-generator-api\"\n}\n</code></pre>"},{"location":"api/rest-api/#image-analysis","title":"Image Analysis","text":""},{"location":"api/rest-api/#post-apiv1analyzeimage","title":"<code>POST /api/v1/analyze/image</code>","text":"<p>Analyze a single image and extract metadata.</p> <p>Request: <code>multipart/form-data</code></p> Field Type Description <code>file</code> <code>file</code> Image file (JPEG, PNG, TIFF, WebP). Max 10 MB. <p>Response <code>200 OK</code>:</p> <pre><code>{\n  \"file_name\": \"photo.jpg\",\n  \"content_type\": \"image/jpeg\",\n  \"file_size\": 1234567,\n  \"metadata\": {\n    \"description\": \"...\",\n    \"keywords\": [\"...\", \"...\"],\n    \"caption\": \"...\"\n  },\n  \"exif\": { ... }\n}\n</code></pre>"},{"location":"api/rest-api/#audio-analysis","title":"Audio Analysis","text":""},{"location":"api/rest-api/#post-apiv1analyzeaudio","title":"<code>POST /api/v1/analyze/audio</code>","text":"<p>Analyze a single audio file and extract metadata.</p> <p>Request: <code>multipart/form-data</code></p> Field Type Description <code>file</code> <code>file</code> Audio file (MP3, WAV, M4A, OGG). Max 10 minutes. <p>Response <code>200 OK</code>:</p> <pre><code>{\n  \"file_name\": \"recording.mp3\",\n  \"content_type\": \"audio/mpeg\",\n  \"file_size\": 2345678,\n  \"metadata\": {\n    \"description\": \"...\",\n    \"keywords\": [\"...\", \"...\"],\n    \"summary\": \"...\"\n  },\n  \"duration_seconds\": 180.5\n}\n</code></pre>"},{"location":"api/rest-api/#batch-analysis","title":"Batch Analysis","text":""},{"location":"api/rest-api/#post-apiv1analyzebatch","title":"<code>POST /api/v1/analyze/batch</code>","text":"<p>Analyze up to 20 files (images and/or audio) in a single request.</p> <p>Request: <code>multipart/form-data</code> with multiple <code>files</code> fields.</p> <p>Response <code>200 OK</code>:</p> <pre><code>{\n  \"results\": [\n    { \"status\": \"success\", \"file_name\": \"...\", \"metadata\": { ... } },\n    { \"status\": \"error\", \"file_name\": \"...\", \"error\": { ... } }\n  ],\n  \"total\": 3,\n  \"successful\": 2,\n  \"failed\": 1\n}\n</code></pre>"},{"location":"api/rest-api/#interactive-documentation","title":"Interactive Documentation","text":"<ul> <li>Swagger UI: /api/v1/docs</li> <li>ReDoc: /api/v1/redoc</li> </ul>"},{"location":"api/webhook-api/","title":"Webhook API","text":"<p>The webhook endpoint enables external systems (CMS, DAM) to trigger metadata extraction programmatically.</p>"},{"location":"api/webhook-api/#authentication","title":"Authentication","text":"<p>All webhook requests must include an API key in the <code>X-API-Key</code> header.</p>"},{"location":"api/webhook-api/#endpoint","title":"Endpoint","text":""},{"location":"api/webhook-api/#post-apiv1webhookanalyze","title":"<code>POST /api/v1/webhook/analyze</code>","text":"<p>Submit files for asynchronous metadata extraction.</p> <p>Headers:</p> Header Description <code>X-API-Key</code> API key for authentication <code>Content-Type</code> <code>application/json</code> <p>Request Body:</p> <pre><code>{\n  \"files\": [\n    {\n      \"url\": \"https://storage.example.com/image.jpg\",\n      \"type\": \"image\"\n    },\n    {\n      \"url\": \"https://storage.example.com/recording.mp3\",\n      \"type\": \"audio\"\n    }\n  ],\n  \"callback_url\": \"https://cms.example.com/api/metadata-callback\",\n  \"request_id\": \"optional-idempotency-key\"\n}\n</code></pre> <p>Response <code>202 Accepted</code>:</p> <pre><code>{\n  \"request_id\": \"uuid-v4\",\n  \"status\": \"accepted\",\n  \"file_count\": 2\n}\n</code></pre>"},{"location":"api/webhook-api/#callback-payload","title":"Callback Payload","text":"<p>When processing completes, the API sends a POST request to the <code>callback_url</code>:</p> <pre><code>{\n  \"request_id\": \"uuid-v4\",\n  \"status\": \"completed\",\n  \"results\": [\n    {\n      \"url\": \"https://storage.example.com/image.jpg\",\n      \"type\": \"image\",\n      \"status\": \"success\",\n      \"metadata\": {\n        \"description\": \"...\",\n        \"keywords\": [\"...\", \"...\"],\n        \"caption\": \"...\"\n      }\n    }\n  ],\n  \"completed_at\": \"2026-01-15T10:30:00Z\"\n}\n</code></pre>"},{"location":"api/webhook-api/#error-handling","title":"Error Handling","text":"HTTP Status Meaning <code>202</code> Request accepted for processing <code>401</code> Missing or invalid API key <code>422</code> Validation error (invalid URL, unsupported type) <code>429</code> Rate limit exceeded"},{"location":"api/webhook-api/#sla","title":"SLA","text":"<ul> <li>Maximum processing latency: 15 minutes per file</li> <li>Timeout: files not processed within 15 minutes are reported as errors in the callback</li> </ul>"},{"location":"architecture/data-flow/","title":"Data Flow","text":""},{"location":"architecture/data-flow/#single-file-analysis","title":"Single File Analysis","text":"<pre><code>sequenceDiagram\n    participant User\n    participant Frontend as Next.js Frontend\n    participant API as FastAPI Backend\n    participant CU as Azure Content Understanding\n\n    User-&gt;&gt;Frontend: Upload file\n    Frontend-&gt;&gt;API: POST /api/v1/analyze/image (or /audio)\n    API-&gt;&gt;API: Validate file (type, size)\n    API-&gt;&gt;CU: Send file for analysis\n    CU--&gt;&gt;API: Analysis result (description, keywords, caption/summary)\n    API--&gt;&gt;Frontend: JSON response with metadata\n    Frontend--&gt;&gt;User: Display metadata tile</code></pre>"},{"location":"architecture/data-flow/#batch-upload-flow","title":"Batch Upload Flow","text":"<pre><code>sequenceDiagram\n    participant User\n    participant Frontend as Next.js Frontend\n    participant API as FastAPI Backend\n    participant CU as Azure Content Understanding\n\n    User-&gt;&gt;Frontend: Upload multiple files (\u2264 20)\n    Frontend-&gt;&gt;API: POST /api/v1/analyze/batch (multipart)\n    loop For each file (concurrent)\n        API-&gt;&gt;CU: Analyze file\n        CU--&gt;&gt;API: Result\n    end\n    API--&gt;&gt;Frontend: BatchAnalysisResponse (ordered results)\n    Frontend--&gt;&gt;User: Display tile grid</code></pre>"},{"location":"architecture/data-flow/#webhook-integration-flow","title":"Webhook Integration Flow","text":"<pre><code>sequenceDiagram\n    participant CMS as External CMS\n    participant API as FastAPI Backend\n    participant CU as Azure Content Understanding\n\n    CMS-&gt;&gt;API: POST /api/v1/webhook/analyze (file URLs, callback URL)\n    API--&gt;&gt;CMS: 202 Accepted (request_id)\n    loop Background processing\n        API-&gt;&gt;API: Download file from URL\n        API-&gt;&gt;CU: Analyze file\n        CU--&gt;&gt;API: Result\n    end\n    API-&gt;&gt;CMS: POST callback URL (results payload)</code></pre>"},{"location":"architecture/data-flow/#data-models","title":"Data Models","text":""},{"location":"architecture/data-flow/#image-metadata","title":"Image Metadata","text":"Field Type Description <code>description</code> <code>string</code> Detailed natural-language description (German) <code>keywords</code> <code>string[]</code> Relevant tags for search and categorization <code>caption</code> <code>string</code> Concise, publication-ready image subtitle"},{"location":"architecture/data-flow/#audio-metadata","title":"Audio Metadata","text":"Field Type Description <code>description</code> <code>string</code> Detailed summary of audio content (German) <code>keywords</code> <code>string[]</code> Relevant tags for search and categorization <code>summary</code> <code>string</code> One-sentence summary"},{"location":"architecture/overview/","title":"Architecture Overview","text":"<p>High-level architecture of the Metadata Generator system.</p>"},{"location":"architecture/overview/#system-diagram","title":"System Diagram","text":"<pre><code>graph TB\n    subgraph \"Frontend\"\n        A[Next.js SPA&lt;br/&gt;MetadataGenerator.Web]\n    end\n\n    subgraph \"Backend\"\n        B[FastAPI&lt;br/&gt;MetadataGenerator.Api]\n        C[Azure Content Understanding&lt;br/&gt;Service Layer]\n    end\n\n    subgraph \"Azure\"\n        D[Azure Content Understanding&lt;br/&gt;AI Service]\n    end\n\n    subgraph \"External Systems\"\n        E[Publishing CMS /&lt;br/&gt;DAM System]\n    end\n\n    A --&gt;|REST API| B\n    B --&gt; C\n    C --&gt;|REST API| D\n    E --&gt;|Webhook| B\n    B --&gt;|Callback POST| E</code></pre>"},{"location":"architecture/overview/#key-components","title":"Key Components","text":"Component Technology Purpose MetadataGenerator.Api Python 3.12, FastAPI Backend API \u2014 file processing, AI integration, webhook MetadataGenerator.Web Next.js 16, React 19, TypeScript Frontend SPA \u2014 upload UI, metadata display, export Azure Content Understanding Azure AI Image and audio analysis \u2014 generates descriptions, keywords, captions"},{"location":"architecture/overview/#design-principles","title":"Design Principles","text":"<ul> <li>Separation of concerns: Frontend handles presentation, backend handles business logic and AI integration.</li> <li>Type-safe contracts: Pydantic models (backend) and TypeScript interfaces (frontend) enforce API contracts.</li> <li>Modular services: Azure integration is wrapped in an injectable service layer for testability.</li> <li>German output: All AI-generated metadata is configured for German language output.</li> </ul>"},{"location":"architecture/system-design/","title":"System Design","text":""},{"location":"architecture/system-design/#technology-stack","title":"Technology Stack","text":""},{"location":"architecture/system-design/#backend","title":"Backend","text":"Layer Technology Version Runtime Python 3.12+ Framework FastAPI \u2265 0.115 Server Uvicorn \u2265 0.34 Configuration Pydantic Settings \u2265 2.7 Package Manager uv Latest Linting Ruff \u2265 0.9 Type Checking mypy (strict) \u2265 1.14 Testing pytest + httpx Latest"},{"location":"architecture/system-design/#frontend","title":"Frontend","text":"Layer Technology Version Framework Next.js (App Router) 16.x UI Library React 19.x Language TypeScript (strict) 5.x Styling Tailwind CSS 4.x Testing Vitest + React Testing Library Latest Package Manager pnpm Latest"},{"location":"architecture/system-design/#ai-service","title":"AI Service","text":"Service Provider Image &amp; Audio Analysis Azure Content Understanding"},{"location":"architecture/system-design/#project-layout","title":"Project Layout","text":"<pre><code>metadata-generator/\n\u251c\u2500\u2500 MetadataGenerator.Api/       # Backend API (FastAPI)\n\u2502   \u251c\u2500\u2500 app/\n\u2502   \u2502   \u251c\u2500\u2500 core/                # Config, dependencies\n\u2502   \u2502   \u251c\u2500\u2500 middleware/          # Correlation ID, etc.\n\u2502   \u2502   \u251c\u2500\u2500 models/             # Pydantic models\n\u2502   \u2502   \u251c\u2500\u2500 routers/            # API endpoints\n\u2502   \u2502   \u251c\u2500\u2500 services/           # Business logic\n\u2502   \u2502   \u2514\u2500\u2500 utils/              # Utilities\n\u2502   \u2514\u2500\u2500 tests/                  # pytest suite\n\u251c\u2500\u2500 MetadataGenerator.Web/       # Frontend (Next.js)\n\u2502   \u2514\u2500\u2500 src/\n\u2502       \u251c\u2500\u2500 app/                # Pages &amp; layouts\n\u2502       \u251c\u2500\u2500 components/         # Shared components\n\u2502       \u251c\u2500\u2500 hooks/              # Custom hooks\n\u2502       \u251c\u2500\u2500 lib/                # API client, types, utils\n\u2502       \u2514\u2500\u2500 styles/             # Theme tokens\n\u251c\u2500\u2500 docs/                        # MkDocs documentation\n\u251c\u2500\u2500 specs/                       # PRD, FRDs, tasks, ADRs\n\u2514\u2500\u2500 mkdocs.yml                   # Documentation config\n</code></pre>"},{"location":"architecture/system-design/#key-design-decisions","title":"Key Design Decisions","text":"<p>Architecture Decision Records (ADRs) are maintained in the <code>specs/adr/</code> directory at the repository root.</p>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>All configuration is managed through environment variables. Both the backend and frontend use <code>.env</code> files for local development.</p>"},{"location":"getting-started/configuration/#backend-configuration","title":"Backend Configuration","text":"<p>The backend uses Pydantic Settings to load configuration from environment variables with fallback to <code>.env</code>.</p> <p>See Environment Variables for a full reference of all backend variables.</p>"},{"location":"getting-started/configuration/#frontend-configuration","title":"Frontend Configuration","text":"<p>The frontend uses Next.js environment variables. Variables prefixed with <code>NEXT_PUBLIC_</code> are available in the browser.</p> Variable Description Default <code>NEXT_PUBLIC_API_URL</code> Backend API base URL <code>http://localhost:8000/api/v1</code>"},{"location":"getting-started/configuration/#azure-content-understanding","title":"Azure Content Understanding","text":"<p>The backend requires credentials for the Azure Content Understanding service:</p> <pre><code>AZURE_CONTENT_UNDERSTANDING_ENDPOINT=https://&lt;resource&gt;.cognitiveservices.azure.com\nAZURE_CONTENT_UNDERSTANDING_KEY=&lt;your-key&gt;\n</code></pre> <p>Warning</p> <p>Never commit real credentials. Use <code>.env</code> files which are gitignored.</p>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12+ \u2014 Backend API runtime</li> <li>Node.js 20+ \u2014 Frontend build toolchain</li> <li>pnpm \u2014 Frontend package manager</li> <li>uv \u2014 Python project manager</li> <li>Azure Subscription \u2014 Access to Azure Content Understanding</li> </ul>"},{"location":"getting-started/installation/#clone-the-repository","title":"Clone the Repository","text":"<pre><code>git clone https://github.com/makautzn/metadata-generator.git\ncd metadata-generator\n</code></pre>"},{"location":"getting-started/installation/#backend-setup","title":"Backend Setup","text":"<pre><code>cd MetadataGenerator.Api\n\n# Install dependencies\nuv sync --dev\n\n# Copy environment variables\ncp .env.example .env\n# Edit .env and add your Azure Content Understanding credentials\n</code></pre>"},{"location":"getting-started/installation/#frontend-setup","title":"Frontend Setup","text":"<pre><code>cd MetadataGenerator.Web\n\n# Install dependencies\npnpm install\n\n# Copy environment variables\ncp .env.local.example .env.local\n</code></pre>"},{"location":"getting-started/installation/#azure-content-understanding","title":"Azure Content Understanding","text":"<ol> <li>Create an Azure Content Understanding resource in the Azure Portal.</li> <li>Copy the endpoint and API key from the resource's Keys and Endpoint page.</li> <li>Add them to <code>MetadataGenerator.Api/.env</code>:</li> </ol> <pre><code>AZURE_CONTENT_UNDERSTANDING_ENDPOINT=https://&lt;your-resource&gt;.cognitiveservices.azure.com\nAZURE_CONTENT_UNDERSTANDING_KEY=&lt;your-key&gt;\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code># Backend\ncd MetadataGenerator.Api\nuv run pytest  # All tests should pass\n\n# Frontend\ncd MetadataGenerator.Web\npnpm test      # All tests should pass\n</code></pre>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>Get the Metadata Generator running locally in under 5 minutes.</p>"},{"location":"getting-started/quick-start/#1-start-the-backend","title":"1. Start the Backend","text":"<pre><code>cd MetadataGenerator.Api\ncp .env.example .env\n# Add your Azure credentials to .env\nuv sync\nuv run uvicorn app.main:app --reload --host 0.0.0.0 --port 8000\n</code></pre> <p>Verify the API is running:</p> <pre><code>curl http://localhost:8000/health\n# {\"status\": \"healthy\", \"service\": \"metadata-generator-api\"}\n</code></pre>"},{"location":"getting-started/quick-start/#2-start-the-frontend","title":"2. Start the Frontend","text":"<pre><code>cd MetadataGenerator.Web\ncp .env.local.example .env.local\npnpm install\npnpm dev\n</code></pre> <p>Open http://localhost:3000 in your browser.</p>"},{"location":"getting-started/quick-start/#3-upload-files","title":"3. Upload Files","text":"<ol> <li>Click the upload area or drag and drop files.</li> <li>Select images (JPEG, PNG, TIFF, WebP) and/or audio files (MP3, WAV, M4A, OGG).</li> <li>Click Analysieren to start processing.</li> <li>View the generated metadata in the tile grid.</li> <li>Copy individual fields or export all results as CSV/JSON.</li> </ol>"},{"location":"getting-started/quick-start/#api-documentation","title":"API Documentation","text":"<p>Once the backend is running, visit:</p> <ul> <li>Swagger UI: http://localhost:8000/api/v1/docs</li> <li>ReDoc: http://localhost:8000/api/v1/redoc</li> </ul>"},{"location":"guides/deployment/","title":"Deployment","text":"<p>Note</p> <p>This document will be updated as deployment infrastructure is finalized.</p>"},{"location":"guides/deployment/#overview","title":"Overview","text":"<p>The Metadata Generator consists of two deployable services:</p> Service Technology Deployment Target Backend API FastAPI (Python) Azure App Service / Container Apps Frontend Next.js Azure Static Web Apps / App Service"},{"location":"guides/deployment/#prerequisites","title":"Prerequisites","text":"<ul> <li>Azure subscription with appropriate permissions</li> <li>Azure Content Understanding resource provisioned</li> <li>Azure CLI installed and authenticated</li> </ul>"},{"location":"guides/deployment/#environment-variables","title":"Environment Variables","text":"<p>Ensure all required environment variables are set in your deployment environment. See Environment Variables for a complete list.</p>"},{"location":"guides/deployment/#build-commands","title":"Build Commands","text":""},{"location":"guides/deployment/#backend","title":"Backend","text":"<pre><code>cd MetadataGenerator.Api\nuv sync --no-dev\n</code></pre>"},{"location":"guides/deployment/#frontend","title":"Frontend","text":"<pre><code>cd MetadataGenerator.Web\npnpm install --frozen-lockfile\npnpm build\n</code></pre>"},{"location":"guides/deployment/#health-checks","title":"Health Checks","text":"<p>Configure your deployment platform to monitor:</p> <ul> <li>Liveness: <code>GET /health</code> \u2014 returns <code>200</code> when the service is running</li> <li>Readiness: <code>GET /health/ready</code> \u2014 returns <code>200</code> when the service can accept traffic</li> </ul>"},{"location":"guides/development/","title":"Development Guide","text":""},{"location":"guides/development/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.12+</li> <li>Node.js 20+</li> <li>pnpm (install via <code>npm install -g pnpm</code>)</li> <li>uv (install via <code>curl -LsSf https://astral.sh/uv/install.sh | sh</code>)</li> </ul>"},{"location":"guides/development/#daily-workflow","title":"Daily Workflow","text":""},{"location":"guides/development/#backend-metadatageneratorapi","title":"Backend (MetadataGenerator.Api)","text":"<pre><code>cd MetadataGenerator.Api\n\n# Sync dependencies\nmake sync\n\n# Start dev server with hot-reload\nmake dev\n\n# Run linter\nmake lint\n\n# Auto-fix lint and format\nmake fmt\n\n# Run type-checker\nmake typecheck\n\n# Run tests\nmake test\n\n# Run tests with coverage\nmake test-cov\n</code></pre>"},{"location":"guides/development/#frontend-metadatageneratorweb","title":"Frontend (MetadataGenerator.Web)","text":"<pre><code>cd MetadataGenerator.Web\n\n# Install dependencies\npnpm install\n\n# Start dev server\npnpm dev\n\n# Lint &amp; format check\npnpm lint\n\n# Auto-fix lint &amp; format\npnpm lint:fix\n\n# Type-check\npnpm typecheck\n\n# Run tests\npnpm test\n</code></pre>"},{"location":"guides/development/#documentation","title":"Documentation","text":"<pre><code># Serve docs locally\nsource .venv/bin/activate\nmkdocs serve\n\n# Build docs (strict mode)\nmkdocs build --strict\n</code></pre>"},{"location":"guides/development/#code-standards","title":"Code Standards","text":"<ul> <li>Backend: Follow Ruff rules (E, W, F, I, N, UP, B, S, T20, RUF). mypy strict mode.</li> <li>Frontend: ESLint + Prettier. TypeScript strict mode.</li> <li>Coverage: Minimum 85% for both backend and frontend.</li> <li>Commits: Follow Conventional Commits.</li> </ul>"},{"location":"guides/development/#project-structure","title":"Project Structure","text":"<p>See System Design for the full project layout.</p>"},{"location":"guides/troubleshooting/","title":"Troubleshooting","text":"<p>Common issues and solutions when developing or running the Metadata Generator.</p>"},{"location":"guides/troubleshooting/#backend-issues","title":"Backend Issues","text":""},{"location":"guides/troubleshooting/#modulenotfounderror-no-module-named-app","title":"<code>ModuleNotFoundError: No module named 'app'</code>","text":"<p>Run the server from the <code>MetadataGenerator.Api</code> directory:</p> <pre><code>cd MetadataGenerator.Api\nuv run uvicorn app.main:app --reload\n</code></pre>"},{"location":"guides/troubleshooting/#429-request-rate-too-large-from-azure","title":"<code>429 Request Rate Too Large</code> from Azure","text":"<p>The Azure Content Understanding API is throttling requests. The SDK implements automatic retry with exponential back-off. If the issue persists:</p> <ul> <li>Reduce batch sizes</li> <li>Increase your Azure resource tier</li> <li>Check the <code>Retry-After</code> header value</li> </ul>"},{"location":"guides/troubleshooting/#tests-fail-with-import-errors","title":"Tests fail with import errors","text":"<p>Ensure dev dependencies are installed:</p> <pre><code>cd MetadataGenerator.Api\nuv sync\n</code></pre>"},{"location":"guides/troubleshooting/#cors-errors-in-browser-console","title":"CORS errors in browser console","text":"<p>Check that <code>ALLOWED_ORIGINS</code> in your <code>.env</code> includes the frontend URL:</p> <pre><code>ALLOWED_ORIGINS=[\"http://localhost:3000\"]\n</code></pre>"},{"location":"guides/troubleshooting/#frontend-issues","title":"Frontend Issues","text":""},{"location":"guides/troubleshooting/#pnpm-install-fails","title":"<code>pnpm install</code> fails","text":"<p>Ensure you have the correct Node.js version (\u2265 20) and pnpm (\u2265 10):</p> <pre><code>node --version\npnpm --version\n</code></pre>"},{"location":"guides/troubleshooting/#typescript-errors-after-pulling-changes","title":"TypeScript errors after pulling changes","text":"<p>Run a fresh install and typecheck:</p> <pre><code>cd MetadataGenerator.Web\npnpm install\npnpm typecheck\n</code></pre>"},{"location":"guides/troubleshooting/#api-requests-fail-in-development","title":"API requests fail in development","text":"<p>Ensure the backend server is running on port 8000 and that <code>NEXT_PUBLIC_API_URL</code> is set:</p> <pre><code>NEXT_PUBLIC_API_URL=http://localhost:8000\n</code></pre>"},{"location":"guides/troubleshooting/#documentation-issues","title":"Documentation Issues","text":""},{"location":"guides/troubleshooting/#mkdocs-serve-fails","title":"<code>mkdocs serve</code> fails","text":"<p>Activate the virtual environment first:</p> <pre><code>source .venv/bin/activate\nmkdocs serve\n</code></pre> <p>If the virtual environment doesn't exist:</p> <pre><code>python3 -m venv .venv\nsource .venv/bin/activate\npip install mkdocs-material mkdocs-minify-plugin\n</code></pre>"},{"location":"guides/troubleshooting/#azure-content-understanding","title":"Azure Content Understanding","text":""},{"location":"guides/troubleshooting/#401-unauthorized","title":"<code>401 Unauthorized</code>","text":"<ul> <li>Verify <code>AZURE_CONTENT_UNDERSTANDING_ENDPOINT</code> is correct</li> <li>Verify <code>AZURE_CONTENT_UNDERSTANDING_KEY</code> is valid and not expired</li> <li>Ensure the key matches the endpoint's resource</li> </ul>"},{"location":"guides/troubleshooting/#timeout-errors","title":"Timeout errors","text":"<p>Azure Content Understanding analysis can take several seconds per file. For batch processing, expect longer total times. The timeout is configurable via environment variables.</p>"},{"location":"guides/troubleshooting/#getting-help","title":"Getting Help","text":"<p>If your issue isn't listed here:</p> <ol> <li>Check the GitHub Issues</li> <li>Review the API logs for correlation IDs (they appear in the <code>X-Correlation-ID</code> response header)</li> <li>Open a new issue with reproduction steps and correlation ID</li> </ol>"},{"location":"reference/configuration/","title":"Configuration Reference","text":"<p>Complete reference for all configurable options in the Metadata Generator.</p>"},{"location":"reference/configuration/#backend-configuration","title":"Backend Configuration","text":"<p>The backend uses Pydantic Settings for configuration management. All settings can be provided via environment variables or a <code>.env</code> file.</p>"},{"location":"reference/configuration/#application-settings","title":"Application Settings","text":"Setting Type Default Description <code>APP_NAME</code> <code>str</code> <code>Metadata Generator API</code> Application name used in logs and health endpoint <code>ENVIRONMENT</code> <code>str</code> <code>development</code> Runtime environment (<code>development</code>, <code>staging</code>, <code>production</code>) <code>DEBUG</code> <code>bool</code> <code>false</code> Enable debug mode (extra logging, detailed errors) <code>LOG_LEVEL</code> <code>str</code> <code>INFO</code> Logging level (<code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, <code>ERROR</code>, <code>CRITICAL</code>) <code>API_V1_PREFIX</code> <code>str</code> <code>/api/v1</code> URL prefix for versioned API endpoints"},{"location":"reference/configuration/#cors-settings","title":"CORS Settings","text":"Setting Type Default Description <code>ALLOWED_ORIGINS</code> <code>list[str]</code> <code>[\"http://localhost:3000\"]</code> Origins allowed for CORS requests"},{"location":"reference/configuration/#azure-content-understanding","title":"Azure Content Understanding","text":"Setting Type Default Description <code>AZURE_CONTENT_UNDERSTANDING_ENDPOINT</code> <code>str</code> \u2014 Azure Content Understanding service endpoint URL <code>AZURE_CONTENT_UNDERSTANDING_KEY</code> <code>str</code> \u2014 API key for Azure Content Understanding"},{"location":"reference/configuration/#frontend-configuration","title":"Frontend Configuration","text":"<p>The frontend uses Next.js environment variables. Variables prefixed with <code>NEXT_PUBLIC_</code> are exposed to the browser.</p>"},{"location":"reference/configuration/#public-variables","title":"Public Variables","text":"Variable Default Description <code>NEXT_PUBLIC_API_URL</code> <code>http://localhost:8000</code> Backend API base URL"},{"location":"reference/configuration/#file-limits","title":"File Limits","text":"<p>These limits are enforced by the API:</p> Limit Value Applies To Max image file size 10 MB Image uploads Max audio duration 10 minutes Audio uploads Max batch size 20 files Batch uploads Supported image formats JPEG, PNG, TIFF, BMP, WebP Image analysis Supported audio formats MP3, WAV, FLAC, OGG, M4A Audio analysis"},{"location":"reference/environment-variables/","title":"Environment Variables","text":"<p>All environment variables used by the Metadata Generator services.</p>"},{"location":"reference/environment-variables/#backend-metadatageneratorapi","title":"Backend (<code>MetadataGenerator.Api</code>)","text":"<p>Create a <code>.env</code> file in <code>MetadataGenerator.Api/</code> or export variables in your shell.</p>"},{"location":"reference/environment-variables/#required","title":"Required","text":"Variable Example Description <code>AZURE_CONTENT_UNDERSTANDING_ENDPOINT</code> <code>https://my-resource.cognitiveservices.azure.com/</code> Azure Content Understanding service endpoint <code>AZURE_CONTENT_UNDERSTANDING_KEY</code> <code>abc123...</code> API key for Azure Content Understanding"},{"location":"reference/environment-variables/#optional","title":"Optional","text":"Variable Default Description <code>APP_NAME</code> <code>Metadata Generator API</code> Application display name <code>ENVIRONMENT</code> <code>development</code> Runtime environment identifier <code>DEBUG</code> <code>false</code> Enable debug mode <code>LOG_LEVEL</code> <code>INFO</code> Python logging level <code>API_V1_PREFIX</code> <code>/api/v1</code> API version prefix <code>ALLOWED_ORIGINS</code> <code>[\"http://localhost:3000\"]</code> JSON array of allowed CORS origins"},{"location":"reference/environment-variables/#example-env","title":"Example <code>.env</code>","text":"<pre><code>APP_NAME=Metadata Generator API\nENVIRONMENT=development\nDEBUG=true\nLOG_LEVEL=DEBUG\nAPI_V1_PREFIX=/api/v1\nALLOWED_ORIGINS=[\"http://localhost:3000\"]\nAZURE_CONTENT_UNDERSTANDING_ENDPOINT=https://my-resource.cognitiveservices.azure.com/\nAZURE_CONTENT_UNDERSTANDING_KEY=your-api-key-here\n</code></pre>"},{"location":"reference/environment-variables/#frontend-metadatageneratorweb","title":"Frontend (<code>MetadataGenerator.Web</code>)","text":"<p>Create a <code>.env.local</code> file in <code>MetadataGenerator.Web/</code>.</p> Variable Default Description <code>NEXT_PUBLIC_API_URL</code> <code>http://localhost:8000</code> Backend API base URL"},{"location":"reference/environment-variables/#example-envlocal","title":"Example <code>.env.local</code>","text":"<pre><code>NEXT_PUBLIC_API_URL=http://localhost:8000\n</code></pre>"}]}